<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Benefits Check - B STUDIO PRODUCTION</title>
<link rel="icon" href="https://t.kfs.io/organization_resource_files/40719/65789/favicon.png" type="image/png">
    <meta name="description" content="Benefits Check System by B STUDIO PRODUCTION">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200&icon_names=download" />

    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            color: #333;
            background-color: #f5f5f5;
        }
        h1 {
            text-align: center;
            color: #000000;
        }
        h2 {
            text-align: center;
            color: #000000;
        }

        .form-container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #fff;
            padding: 40px 20px 20px 20px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }

        .form-group {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 20px;
        }

        .input-container {
            flex: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .form-group label {
            margin-bottom: 5px;
            font-size: 1.1em;
            width: 90%;
        }

        .form-group input {
            padding: 10px;
            font-size: 1.2em;
            border: 1px solid #ccc;
            border-radius: 4px;
            width: 80%;
            margin-bottom: 10px;
        }

        .form-group input:focus {
            border-color: #F06022;
            outline: none;
        }

        .button-container {
            display: flex;
            justify-content: center; 
            align-items: center;
            margin-top: 20px;
    gap: 10px;
        }

        button {
            padding: 12px 30px;
            background-color: #F06022;
            color: white;
            border: none;
            border-radius: 4px;
            font-size: 1.1em;
            cursor: pointer;
        }

        button:hover {
            background-color: #e04c1a;
        }

        .result-container {
            margin-top: 30px;
        }

        .ticket-info, .fan-benefits {
            margin-top: 20px;
            background-color: #f6f6f6;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            line-height: 1.5;
        }

        .ticket-info h3, .fan-benefits h3 {
            margin-top: 0;
            color: #F06022;
        }

        .ticket-info p, .fan-benefits p {
            margin: 5px 0;
            font-size: 1.1em;
            line-height: 1.5;
        }

        .note {
            font-size: 0.9em;
            color: #888;
            line-height: 1.5;
        }

        .loading {
            display: none;
            text-align: center;
            font-size: 1.5em;
            margin-top: 20px;
        }

        .error {
            color: red;
            font-weight: bold;
            text-align: center;
        }

.download-buttons {
    margin-top: 5px;
    margin-bottom: 5px;
    display: flex;
}

.download-button {
    padding: 10px 20px;
    background-color: #F06022;
    color: white;
    border: none;
    border-radius: 4px;
    font-size: 1em;
    cursor: pointer;
    display: inline-flex;
    align-items: center;
    gap: 8px;
    flex: 1;
}

.download-button:hover {
    background-color: #e04c1a;
}

.material-symbols-outlined {
    font-size: 18px;
}


#langButton {
    display: inline-flex;
    justify-content: center;
    align-items: center;
    background-color: transparent;
    padding: 10px;
    color: white;
    border: none;
    border-radius: 50%;
    cursor: pointer;
    position: absolute;
    top: 20px;
    right: 20px;
    width: 50px;
    height: 50px;
}

#langButton svg {
    fill: #F06022;
    width: 24px;
    height: 24px;
}


        @media screen and (max-width: 600px) {
            #langButton {
                top: 10px;
                right: 10px;
            }
        }

        @media screen and (max-width: 600px) {
            .form-container {
                padding: 15px;
            }

            button {
                font-size: 1em;
            }

            .form-group {
                flex-direction: column;
            }
        }
        .logo {
            display: block;
            margin: 20px auto;
            max-width: 200px;
            height: auto;
        }
    </style>
</head>
<body>

    <!-- Language Switch Button -->
    <button id="langButton" onclick="toggleLanguage()">
        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#FFFFFF">
            <path d="m476-80 182-480h84L924-80h-84l-43-122H603L560-80h-84ZM160-200l-56-56 202-202q-35-35-63.5-80T190-640h84q20 39 40 68t48 58q33-33 68.5-92.5T484-720H40v-80h280v-80h80v80h280v80H564q-21 72-63 148t-83 116l96 98-30 82-122-125-202 201Zm468-72h144l-72-204-72 204Z"/>
        </svg>
    </button>
    <img src="https://t.kfs.io/organization_resource_files/40719/66907/benefitscheck.png" alt="Benefits Check" class="logo">
    <h2 id="pageTitle">Benefits Check</h2>

    <div class="form-container">
        <!-- Form Inputs for Row and Seat No -->
        <div class="form-group">
            <div class="input-container">
                <label for="row" id="rowLabel">Row</label>
                <input type="text" id="row" maxlength="2" placeholder="Enter row number" oninput="moveFocus(event, 'seatNo')" autofocus>
            </div>
            <div class="input-container">
                <label for="seatNo" id="seatLabel">Seat No.</label>
                <input type="text" id="seatNo" maxlength="2" placeholder="Enter seat number" oninput="moveFocus(event, 'checkButton')" onkeydown="checkEnterKey(event)">
            </div>
        </div>
        
        <div class="button-container">
            <button id="checkButton" onclick="checkTicket()">Check</button>
        </div>
        
        <div class="loading" id="loading">Checking...</div>

        <div id="result" class="result-container"></div>
    </div>
    <script>
        let currentLang = "en"; 

        function toggleLanguage() {
            if (currentLang === "en") {
                setLanguage("zh-TW");
            } else {
                setLanguage("en");
            }
        }

const languageMap = {
    en: {
        pageTitle: "Benefits Check",
        rowLabel: "Row",
        seatLabel: "Seat No.",
        checkButton: "Check",
        loading: "Checking...",
        ticketInfoTitle: "Ticket Info",
        fanBenefitsTitle: "Fan Benefits",
        zoneLabel: "Zone",
        ticketrowLabel: "Row",
        ticketseatLabel: "Seat No.",
        noteLabel: "Note",
        hitouchLabel: "Hi-Touch",
        groupphotoLabel: "Group Photo",
        soundcheckLabel: "Sound Check",
        polaroidLabel: "Polaroid",
        fansignLabel: "FanSign (Poster)",
        signedposterLabel: "Pre-Signed Poster:",
        photocardLabel: "Photo Card",
        placeholders: {
            row: "Enter row number",
            seatNo: "Enter seat number"
        }
    },
    'zh-TW': {
        pageTitle: "粉絲福利查詢",
        rowLabel: "排",
        seatLabel: "號",
        checkButton: "查詢",
        loading: "查詢中...",
        ticketInfoTitle: "票務資訊",
        fanBenefitsTitle: "粉絲福利",
        zoneLabel: "區域",
        ticketrowLabel: "排",
        ticketseatLabel: "號",
        noteLabel: "備註",
        hitouchLabel: "擊掌",
        groupphotoLabel: "合照",
        soundcheckLabel: "Sound Check",
        polaroidLabel: "拍立得",
        fansignLabel: "面簽海報",
        signedposterLabel: "簽名海報",
        photocardLabel: "官方小卡",
        placeholders: {
            row: "輸入排號",
            seatNo: "輸入座位號"
        }
    }
};

function setLanguage(lang) {
    const langData = languageMap[lang] || languageMap['en'];
    currentLang = lang;

    Object.keys(langData).forEach(key => {
        if (key !== 'placeholders') {
            const element = document.getElementById(key);
            if (element) {
                element.innerText = langData[key];
            }
        }
    });

    const placeholders = langData.placeholders;
    for (let inputId in placeholders) {
        const inputElement = document.getElementById(inputId);
        if (inputElement) {
            inputElement.setAttribute("placeholder", placeholders[inputId]);
        }
    }

    Object.keys(langData).forEach(key => {
        if (key !== 'placeholders') {
            window[key] = langData[key];
        }
    });
}

        function moveFocus(event, nextElementId) {
            const currentElement = event.target;
            if (currentElement.value.length === 2) {
                document.getElementById(nextElementId).focus();
            }
        }

        function checkEnterKey(event) {
            if (event.key === "Enter") {
                checkTicket();
            }
        }

        async function checkTicket() {
            const row = document.getElementById("row").value;
            const seatNo = document.getElementById("seatNo").value;
            const resultDiv = document.getElementById("result");
            const loadingDiv = document.getElementById("loading");
            resultDiv.innerHTML = ""; 
            loadingDiv.style.display = "block";

            if (!row || !seatNo) {
                resultDiv.innerHTML = "<p class='error'>Please enter both Row and Seat No.</p>";
                loadingDiv.style.display = "none";
                return;
            }

            try {
                const response = await fetch(`https://sheets.googleapis.com/v4/spreadsheets/11wRRNmmndWzJNgdhEpCCiziXGRHsTduNqXQ4tM0mAwQ/values/BoatOat%201st%20FM%20in%20Taipei?key=AIzaSyAjosDnoaD8flQs9tp1vAGzmqU1MhSnpwE`);
                const data = await response.json();

                const rows = data.values;

                let matchFound = false;

                for (let i = 1; i < rows.length; i++) {
                    if (rows[i][18] == row && rows[i][19] == seatNo) {
                        matchFound = true;

let ticketInfoHTML = `
    <div class="ticket-info">
        <h3>${window.ticketInfoTitle || 'Ticket Info'}</h3>
        <p><strong>${window.zoneLabel || 'Zone'}:</strong> ${rows[i][10]}</p>
        <p><strong>${window.ticketrowLabel || 'Row'}:</strong> ${rows[i][11]}</p>
        <p><strong>${window.ticketseatLabel || 'Seat No.'}:</strong> ${rows[i][12]}</p>
`;

if (rows[i][27]) {
    ticketInfoHTML += `<p><strong>${window.noteLabel || 'Note'}:</strong> ${rows[i][27]}</p>`;
}

ticketInfoHTML += `</div>`;


                        const fanBenefitsHTML = `
                            <div class="fan-benefits">
                                <h3>${window.fanBenefitsTitle || 'Fan Benefits'}</h3>
                                <p><strong>${window.hitouchLabel || 'Hi-Touch'}:</strong> ${rows[i][20]}</p>
${rows[i][30] ? `
<div class="download-buttons">
    <div class="button-container" style="margin-top:0px;">
        <a href="${rows[i][30]}" download target="_blank">
            <button class="download-button">
                <span class="material-symbols-outlined">download</span> 1
            </button>
        </a>
    </div>
</div>
` : ''}

                                <p><strong>${window.groupphotoLabel || 'Group Photo'}:</strong> ${rows[i][21]}</p>

${rows[i][28] || rows[i][29] ? `
<div class="download-buttons">
    <div class="button-container" style="margin-top:0px;">
        ${rows[i][28] ? `<a href="${rows[i][28]}" download target="_blank"><button class="download-button">
            <span class="material-symbols-outlined">download</span> 1
        </button></a>` : ''}
        ${rows[i][29] ? `<a href="${rows[i][29]}" download target="_blank"><button class="download-button">
            <span class="material-symbols-outlined">download</span> 2
        </button></a>` : ''}
    </div>
</div>
` : ''}


                                <p><strong>${window.soundcheckLabel || 'Sound Check'}:</strong> ${rows[i][22]}</p>
                                <p><strong>${window.polaroidLabel || 'Polaroid'}:</strong> ${rows[i][23]}</p>
                                <p><strong>${window.fansignLabel || 'FanSign (Poster)'}:</strong> ${rows[i][24]}</p>
                                <p><strong>${window.signedposterLabel || 'Pre-Signed Poster'}:</strong> ${rows[i][25]}</p>
                                <p><strong>${window.photocardLabel || 'Photo Card'}:</strong> ${rows[i][26]}</p>
                            </div>
                        `;

                        resultDiv.innerHTML = ticketInfoHTML + fanBenefitsHTML;
                        break;
                    }
                }

                if (!matchFound) {
                    resultDiv.innerHTML = "<p class='error'>No matching ticket found for the entered Row and Seat No.</p>";
                }

            } catch (error) {
                resultDiv.innerHTML = "<p class='error'>Error retrieving data. Please try again later.</p>";
            }

            loadingDiv.style.display = "none";
        }
    </script>
</body>
</html>
